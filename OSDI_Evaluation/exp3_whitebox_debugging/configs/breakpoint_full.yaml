# Experiment 3: White-Box Breakpoint Debugging - Full Evaluation
# Comprehensive breakpoint debugging evaluation for OSDI paper

model:
  name: "gpt2-xl"  # 48 layers
  source: "transformers"
  
breakpoint:
  enabled: true
  # Sweep breakpoint positions to show overhead scales with activation size
  layers_to_test: [5, 10, 15, 20, 25, 30, 35, 40, 45]
  
input:
  batch_size: 1
  seq_length: 512
  
metrics:
  collect_checkpoint_time: true
  collect_pause_duration: true
  collect_restore_time: true
  collect_correctness: true
  collect_activation_sizes: true  # Track sizes at each layer
  
validation:
  tolerance: 0.1  # FP16 tolerance
  require_output_equivalence: true  # Strict: breakpoint run must == full run
  
duration: 30  # minutes
output_dir: "/tmp/exp3_results"

